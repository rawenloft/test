{% extends "network/layout.html" %}

{% block body %}
    
    <div class="container">
    {% if user.is_authenticated %}
    
    <div class="row justify-content-center">
        <div class="user_card col-8 ">
            {% if show_user == user.username %}
                <h3 class="user d-inline-flex col-2">{{ user.username | capfirst }}</h3>
            {% elif show_user != logged_user %}
                <h3 class="user d-inline-flex col-2">{{ show_user | capfirst }}</h3>
            {% else %}
                <h3 class="user d-inline-flex col-2">{{ user.username | capfirst }}</h3>
            {% endif %}
            
            <div class="follow_me d-inline-flex col-4">
                <div class="followers">
                    <div class="follower d-inline-flex">0</div>
                    <i class="bi bi-people follow"></i>
                    <span class="caption">followers</span>
                </div>
                <div class="following">
                    <span class="follower d-inline-flex">0</span>
                    <i class="bi bi-person-check follow"></i>
                    <span class="caption">following</span>
                </div>
            </div>
            <span class="caption">{{ posts_count }} posts</span>
            {% if message %} 
                <div class="post_title badge badge-info" role="alert">
                    {{ message }}
                </div>  
            {% endif %}    
            <span class="time_posted d-flex justify-content-end">Joined {{ user.date_joined.date }}</span>
        
        </div>
        
    {% if posts %}
        {% for post in posts %}
            <div class="card col-8" style="width: 16rem;">
                <div class="card-body">
                    <p class="card-text">{{ post.post }}</p>
                    <hr>
                    <div class="">
                        <div class="likes d-flex flex-row">
                            <i class="bi bi-heart like"></i>
                            <span class="likes_number">{{ post.like }}</span>
            
                            <i class="bi bi-chat comment"></i>
                        
                        </div>
                        <div class="d-flex justify-content-between">
                        <a href="{% url 'show_profile' user=post.author %}" class="author">by {{ post.author }}</a>
                            <span class="time_posted">{{ post.created_at }}</span>
                        </div>
                    </div>
                    
                </div>
            </div>
            
        {% endfor %}
    {% endif %}
    </div>

    {% endif %}
    </div>
{% endblock %}